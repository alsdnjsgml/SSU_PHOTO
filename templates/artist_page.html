<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SSU photo studio | Artist Style</title>
    <meta name="keywords" content="" />
    <meta name="description" content="" />
    <link
      href="http://fonts.googleapis.com/css?family=Source+Sans+Pro:200,300,400,600,700,900"
      rel="stylesheet"
    />
    <link
      href="{{ url_for('static', filename='css/default.css') }}"
      rel="stylesheet"
      media="all"
    />
    <link
      href="{{ url_for('static', filename='css/fonts.css') }}"
      rel="stylesheet"
      type="text/css"
      media="all"
    />

    <style>
      #loading {
        width: 100%;
        height: 100%;
        top: 0px;
        left: 0px;
        position: fixed;
        display: block;
        opacity: 0.7;
        background-color: #fff;
        z-index: 99;
        color: black;
        text-align: center;
        padding: 300px 10px;
      }

      #loading-image {
        position: absolute;
        top: 50%;
        left: 50%;
        z-index: 100;
      }
    </style>

    <!--[if IE 6
      ]><link href="default_ie6.css" rel="stylesheet" type="text/css"
    /><![endif]-->
  </head>
  <body>
    <div id="header-wrapper">
      <div id="header" class="container">
        <div id="logo">
          <h1><a href="#">SSU photo studio</a></h1>
        </div>
        <div id="menu">
          <ul>
            <li><a href="/" accesskey="1" title="">Homepage</a></li>
            <li><a href="/about" accesskey="2" title="">About</a></li>
            <li><a href="/scrath" accesskey="3" title="">Scrath </a></li>
            <li class="current_page_item">
              <a href="/artist" accesskey="4" title="">painting style</a>
            </li>
            <li><a href="/gallery" accesskey="5" title="">Gallery</a></li>
          </ul>
        </div>
      </div>
    </div>

    <!-- <div id="banner-wrapper">
        <div id="banner" class="container">
            <p>This is <strong>Erubescent</strong>, a free, fully standards-compliant CSS template designed by <a href="http://templated.co" rel="nofollow">TEMPLATED</a>. The photos in this template are from <a href="http://fotogrph.com/"> Fotogrph</a>. This free template is released under the <a href="http://templated.co/license">Creative Commons Attribution</a> license, so you're pretty much free to do whatever you want with it (even use it commercially) provided you give us credit for it. Have fun :) </p>
        </div>
    </div> -->
    <div class="picture">
      <div class="picture-space"></div>

      <div
        class="picture-frame"
        style="
          width: 100%;
          display: flex;
          flex-direction: row;
          border: 0px;
          justify-content: center;
          align-items: center;
        "
      >
        <div class="frame">
          <h5>액자1</h5>
        </div>

        <div class="frame_space"></div>

        <div class="frame">
          <h5>액자2</h5>
        </div>

        <div class="frame_space"></div>

        <div class="frame">
          <h5>액자3</h5>
        </div>
      </div>
      <div class="picture-space"></div>
      <form action="/success" method="post" enctype = "multipart/form-data">
      <div class="picture_box" style="text-align: center">
        <h5>당신의 추억을 업로드해주세요</h5>
        <input type="file" name="file1" style="display: none" />
        <!--required-->
        <img
          style="cursor: pointer;"
          src="{{ url_for('static', filename='image/upload.png') }}"
          width="50px"
          height="50px"
          border="0"
          onclick="document.all.file1.click(); document.all.file2.value=document.all.file1.value"

          
        />

        <br />
        <!-- <input type="submit" value="submit" onclick="$('#loading').show();" ></form> -->
      </div>

      <div class="txt">
        <h3>Painting Style</h3>
      </div>
    </div>

    <div class="selector">
      <div style="width: auto; height: 30%"></div>
      <div class="semicircle"></div>

      <div
        class="select_box"
        style="transform: rotate(90deg) translate(230px, -300px)"
      >
        <!-- <p>1</p> -->
        <input
          type="image"
          name="style"
          value="1"
          class="select_box"
          src="{{ url_for('static', filename='image/upload/s1.jpg') }}"
          onclick="uploadMultiFile();"
        />
      </div>

      <div
        class="select_box"
        style="transform: rotate(60deg) translate(380px, -200px)"
      >
        <!--<p>2</p> -->
        <input
          type="image"
          name="style"
          value="2"
          class="select_box"
          src="{{ url_for('static', filename='image/upload/s2.jpg') }}"
          onclick="uploadMultiFile();"
        />
      </div>

      <div
        class="select_box"
        style="transform: rotate(135deg) translate(-650px, 0px)"
      >
        <!--<p>3</p>-->
        <input
          type="image"
          name="style"
          value="3"
          class="select_box"
          src="{{ url_for('static', filename='image/upload/s3.jpg') }}"
          onclick="uploadMultiFile();"
        />
      </div>

      <div
        class="select_box"
        style="transform: rotate(120deg) translate(-600px, -50px)"
      >
        <!--<p>4</p>-->
        <input
          type="image"
          name="style"
          value="4"
          class="select_box"
          src="{{ url_for('static', filename='image/upload/s4.jpg') }}"
          onclick="uploadMultiFile();"
        />
      </div>

      <div
        class="select_box"
        style="transform: rotate(30deg) translate(350px, -430px)"
      >
        <!--<p>5</p> -->
        <input
          type="image"
          name="style"
          value="5"
          class="select_box"
          src="{{ url_for('static', filename='image/upload/s5.jpg') }}"
          onclick="uploadMultiFile();"
        />
      </div>
    </div>
    </form>
    <div id="copyright" class="container">
      <p>
        &copy; SSU 2021 WEBPROGRAMING. All rights reserved. | Develop by
        <a href="http://fotogrph.com/">TEAM4</a> | Design by
        <a href="http://templated.co" rel="nofollow">TEAM4</a>.
      </p>
    </div>

    <div id="loading" style="display: none">
      Please Wait, Loading…
      <br />
      <img src={{ url_for('static', filename='image/loading_horse.gif') }}
      alt="" />
      <br />
      <img src={{ url_for('static', filename='image/loading_wave.gif') }} alt=""
      />
    </div>

    <script
      type="text/javascript"
      src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js"
    ></script>
    <script>
      function uploadMultiFile(e) {
        // 서버에 보낼 폼 데이터 양식 생성
        var formData = new FormData();

        // 선택한 file input에서 파일을 가져와 폼 데이터에 추가
        if (document.getElementsByName("file1").files.length > 0) {
          var files = document.getElementsByName("file1").files;
          $.each(files, function (key, value) {
            formData.append(key, value);
          });
        }

        // 클릭한 input image 에서 value 값을 가져와 폼 데이터에 추가
        if (e.target.type == "image") {
          formData.append("value", e.target.value);
        }


        $.ajax({
          type: "POST",
          url: "/success",
          data: formData,
          processData: false,
          contentType: false,
          success: function (data) {
            if (data.result) {
              alert("Success");
            } else {
              alert(data.result);
            }
          },
          err: function (err) {
            alert(err.status);
          },
        });
      }
    </script>
  </body>
</html>